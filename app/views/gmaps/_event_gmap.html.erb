<script>
    var Locs = []
    
    <% @array_dots_for_js.each do |value| %>
        newLocs = {
            lat: <%= value.lat.to_i %> ,
            lon: <%= value.lon.to_i %>,
            title: 'Title A1',
            html: '<h3>Content A1</h3>',
            icon: 'http://maps.google.com/mapfiles/marker.png',
        };
        Locs = Locs + newLocs;
    <% end %>

/*
    var Locs = [
        {
            lat: 45.9,
            lon: 10.9,
            title: 'Title A1',
            html: '<h3>Content A1</h3>',
            icon: 'http://maps.google.com/mapfiles/marker.png',
        },
        {
            lat: 44.8,
            lon: 1.7,
            title: 'Title B1',
            html: '<h3>Content B1</h3>',
            icon: 'http://maps.google.com/mapfiles/marker.png',
            show_infowindow: false
        },
        {
            lat: 51.5,
            lon: -1.1,
            title: 'Title C1',
            html: [
                '<h3>Content C1</h3>',
                '<p>Lorem Ipsum..</p>'
            ].join(''),
            zoom: 8,
            icon: 'http://maps.google.com/mapfiles/marker.png'
        }
    ];*/

    
    
/* LocsA - это массив, надо передать сбюда весь ДЖСОН как массив */

  /*  var LocsA = <%#= JSON.parse(@json) %> ; */

    //dropdown example
    new Maplace({
        locations: Locs,
        map_div: '#gmap-dropdown',
        controls_title: 'Choose a location:',
        listeners: {
            click: function(map, event) {
                alert('That was a click!'); /* возможно по клику можно ф-ией вызвать координаты точки клика*/
            }
        }
    }).Load();


/*
    var Locs = [
        {
            lat: 45.9,
            lon: 10.9,
            title: 'Title A1',
            html: '<h3>Content A1</h3>',
            icon: 'http://maps.google.com/mapfiles/marker.png',
        },
        {
            lat: 44.8,
            lon: 1.7,
            title: 'Title B1',
            html: '<h3>Content B1</h3>',
            icon: 'http://maps.google.com/mapfiles/marker.png',
            show_infowindow: false
        },
        {
            lat: 51.5,
            lon: -1.1,
            title: 'Title C1',
            html: [
                '<h3>Content C1</h3>',
                '<p>Lorem Ipsum..</p>'
            ].join(''),
            zoom: 8,
            icon: 'http://maps.google.com/mapfiles/marker.png'
        }
    ];
*/
</script>

